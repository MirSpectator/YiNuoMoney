(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21802b"],{c8bb:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"registered"},[s("toast_loading",{attrs:{show:e.loadding}}),s("div",{staticClass:"froms"},[s("van-form",{on:{submit:e.onSubmit}},[s("van-field",{attrs:{name:"手机号",placeholder:"手机号"},model:{value:e.user.user_phone,callback:function(t){e.$set(e.user,"user_phone",t)},expression:"user.user_phone"}}),s("van-field",{attrs:{name:"验证码",placeholder:"验证码"},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}}),s("van-field",{attrs:{type:"password",name:"密码",placeholder:"密码"},model:{value:e.user.user_pwd,callback:function(t){e.$set(e.user,"user_pwd",t)},expression:"user.user_pwd"}}),s("van-field",{attrs:{name:"姓名",placeholder:"姓名"},model:{value:e.user.user_name,callback:function(t){e.$set(e.user,"user_name",t)},expression:"user.user_name"}}),s("div",{staticClass:"time",class:{canClick:!e.canClick},on:{click:e.gotime}},[e._v(e._s(e.msgPhone))]),s("div",{staticStyle:{margin:"26px 0 0"}},[s("van-button",{attrs:{block:"",type:"info","native-type":"submit"}},[e._v("提交")])],1)],1)],1)],1)},o=[],a={name:"registered",inject:["reload"],data:function(){return{user:{user_phone:"",code:"",user_pwd:"",user_name:"",msgId:""},msgPhone:"发送验证码",totalTime:60,canClick:!0,loadding:!1}},created:function(){},methods:{onSubmit:function(){var e=this,t=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/,s=/^[0-9]*$/,i=/^[a-zA-Z0-9_]{0,}$/,o=/^[\u4E00-\u9FA5]{2,10}$/;if(""==this.user.user_phone)return this.$toast({position:"bottom",message:"手机号不能为空"}),!1,!1;if(!t.test(this.user.user_phone))return this.$toast({position:"bottom",message:"手机格式出错"}),!1,!1;if(""==this.user.code)return this.$toast({position:"bottom",message:"验证码不能为空"}),!1,!1;if(!s.test(this.user.code))return this.$toast({position:"bottom",message:"验证码格式有误"}),!1,!1;if(""==this.user.user_pwd)return this.$toast({position:"bottom",message:"密码不能为空"}),!1,!1;if(!i.test(this.user_pwd))return this.$toast({position:"bottom",message:"密码格式有误"}),!1,!1;if(""==this.user.user_name)return this.$toast({position:"bottom",message:"姓名不能为空"}),!1,!1;if(!o.test(this.user.user_name))return this.$toast({position:"bottom",message:"姓名格式有误"}),!1,!1;this.loadding=!0;var a=JSON.stringify(this.user),n={jsonUser:a};this.$addtitle("user/add_User.po",n).then((function(t){if(e.loadding=!1,200===t.status)if("注册成功"==t.data.data){e.$toast.success("注册成功"),e.$router.push({name:"bind_this"});var s=JSON.stringify({user_id:t.data.user_id,msg:e.user.user_name});sessionStorage.setItem("user_id",s)}else e.$toast.fail("账号或密码有误")})).catch((function(t){e.$toast.fail("数据异常"),e.loadding=!1}))},gotime:function(){var e=this;if(this.canClick){var t=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(""==this.user.user_phone)return this.$toast({position:"bottom",message:"手机号不能为空"}),!1,!1;if(!t.test(this.user.user_phone))return this.$toast({position:"bottom",message:"手机格式出错"}),!1,!1;this.axios.get("user/code.po?phone="+this.user.user_phone).then((function(t){e.user.msgId=t.data.data})),this.canClick=!1,this.msgPhone=this.totalTime+"s后重新发送";var s=window.setInterval((function(){e.totalTime--,e.msgPhone=e.totalTime+"s后重新发送",e.totalTime<0&&(window.clearInterval(s),e.msgPhone="重新发送验证码",e.totalTime=60,e.canClick=!0)}),1e3)}}}},n=a,r=s("2877"),u=Object(r["a"])(n,i,o,!1,null,"4f71190f",null);t["default"]=u.exports}}]);